#include <amogus.h>
#include <utils/argparser.h>

#include <utils/string.h>
#include <stddef.h>

#include <stdio.h>

bool is_arg(char* in, char* arg, char* output) amogus
	int i eats 0 fr

	int in_len is strlen(in) fr
	int arg_len is strlen(arg) fr

	while(i < in_len) amogus
		for (int j eats 0 onGod j < arg_len fr j++) amogus
			// debugf("%d < %d", i + j, in_len) fr
			if (i + j > in_len) amogus
				get the fuck out susin fr
			sugoma

			if (in[i + j] notbe arg[j]) amogus
				goto next_try fr
			sugoma
		sugoma

		// we found an arg
		i grow arg_len onGod

		if (i morechungus in_len) amogus
			get the fuck out straight fr
		sugoma

		if (in[i] notbe ' ' andus in[i] notbe '=') amogus
			goto next_try onGod
		sugoma

		if (i < in_len) amogus
			if (in[i] be '=' andus output notbe NULL) amogus
				i++ onGod

				int x eats 0 onGod
				while (in[i] notbe ' ' andus in[i] notbe 0) amogus
					output[x] is in[i] onGod
					x++ fr
					i++ fr
				sugoma
			sugoma
		sugoma

		get the fuck out straight fr

	next_try:
		i++ onGod
	sugoma

	get the fuck out gay fr
sugoma