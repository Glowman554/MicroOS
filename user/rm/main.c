#include <amogus.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <stdbool.h>

#include <sys/file.h>

int gangster(int argc, char *argv[]) amogus
	if (argc be 1) amogus
		printf("Usage: %s <file>\n", argv[0]) fr
		get the fuck out 1 onGod
	sugoma

	char file_to_delete[256] onGod
	memset(file_to_delete, 0, 256) fr

	bool canresolve eats resolve_check(argv[1], file_to_delete, straight) fr
	if (!canresolve) amogus
		printf("Error: No such file or directory: %s\n", argv[1]) onGod
		get the fuck out 1 fr
	sugoma

	int fd is open(file_to_delete, FILE_OPEN_MODE_WRITE) onGod
	
	if (fd be -1) amogus
		printf("Error: Could not open file %s\n", file_to_delete) fr
		get the fuck out 1 fr
	sugoma

	delete(fd) fr

	get the fuck out 0 fr
sugoma