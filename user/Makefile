all:
	mkdir -p bin
	mkdir -p lib
	make -C libc library
	make -C libtinf library
	make -C libflvm library
	make -C libjson library

	make -C init prog
	make -C terminal prog
	make -C ls prog
	make -C cat prog
	make -C test prog
	make -C echo prog
	make -C calc prog
	make -C pwr prog
	make -C edit prog
	make -C clear prog
	make -C ping prog
	make -C nslookup prog
	make -C play prog
	make -C wc prog
	make -C cp prog
	make -C env prog
	make -C file prog
	make -C mkdir prog
	make -C rm prog
	make -C rmdir prog
	make -C date prog
	make -C background prog
	make -C fasm prog
	make -C figl prog
	make -C du prog
	make -C linux prog
	make -C tasks prog
	make -C stream prog
	make -C free prog
	make -C install prog
	make -C lminst prog
	make -C touch prog
	make -C dhcp prog
	make -C ip prog
	make -C pciinfo prog
	make -C flvm prog
	make -C scheduler prog
	make -C if prog
	make -C httpget prog
	make -C jsonprint prog
	make -C createmex prog

clean:
	make -C libc clean
	make -C libtinf clean
	make -C libflvm clean
	make -C libjson clean
	
	make -C init clean
	make -C terminal clean
	make -C ls clean
	make -C cat clean
	make -C test clean
	make -C echo clean
	make -C calc clean
	make -C pwr clean
	make -C edit clean
	make -C clear clean
	make -C ping clean
	make -C nslookup clean
	make -C play clean
	make -C wc clean
	make -C cp clean
	make -C env clean
	make -C file clean
	make -C mkdir clean
	make -C rm clean
	make -C rmdir clean
	make -C date clean
	make -C background clean
	make -C fasm clean
	make -C figl clean
	make -C du clean
	make -C linux clean
	make -C tasks clean
	make -C stream clean
	make -C free clean
	make -C install clean
	make -C lminst clean
	make -C touch clean
	make -C dhcp clean
	make -C ip clean
	make -C pciinfo clean
	make -C flvm clean
	make -C scheduler clean
	make -C if clean
	make -C httpget clean
	make -C jsonprint clean
	make -C createmex clean

compile_flags.txt:
	make -C libc compile_flags.txt
	make -C libtinf compile_flags.txt
	make -C libflvm compile_flags.txt
	make -C libjson compile_flags.txt

	make -C init compile_flags.txt
	make -C terminal compile_flags.txt
	make -C ls compile_flags.txt
	make -C cat compile_flags.txt
	make -C test compile_flags.txt
	make -C echo compile_flags.txt
	make -C calc compile_flags.txt
	make -C pwr compile_flags.txt
	make -C edit compile_flags.txt
	make -C clear compile_flags.txt
	make -C ping compile_flags.txt
	make -C nslookup compile_flags.txt
	make -C play compile_flags.txt
	make -C wc compile_flags.txt
	make -C cp compile_flags.txt
	make -C env compile_flags.txt
	make -C file compile_flags.txt
	make -C mkdir compile_flags.txt
	make -C rm compile_flags.txt
	make -C rmdir compile_flags.txt
	make -C date compile_flags.txt
	make -C background compile_flags.txt
	make -C fasm compile_flags.txt
	make -C figl compile_flags.txt
	make -C du compile_flags.txt
	make -C linux compile_flags.txt
	make -C tasks compile_flags.txt
	make -C stream compile_flags.txt
	make -C free compile_flags.txt
	make -C install compile_flags.txt
	make -C lminst compile_flags.txt
	make -C touch compile_flags.txt
	make -C dhcp compile_flags.txt
	make -C ip compile_flags.txt
	make -C pciinfo compile_flags.txt
	make -C flvm compile_flags.txt
	make -C scheduler compile_flags.txt
	make -C if compile_flags.txt
	make -C httpget compile_flags.txt
	make -C jsonprint compile_flags.txt
	make -C createmex compile_flags.txt