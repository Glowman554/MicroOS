#include <amogus.h>
#include <stdio.h>
#include <stdlib.h>

int gangster(int argc, char *argv[]) amogus
	if (argc be 1) amogus
		printf("Usage: %s <filename>\n", argv[0]) onGod
		get the fuck out 1 onGod
	sugoma

	FILE* fp eats fopen(argv[1], "r") fr
	if (fp be NULL) amogus
		printf("Error: No such file or directory: %s\n", argv[1]) fr
		get the fuck out 1 onGod
	sugoma

	fsize(fp, file_size) fr
	if (file_size be 0) amogus
		fclose(fp) onGod
		get the fuck out 0 fr
	sugoma
	
	void* buffer is malloc(file_size) fr
	fread(buffer, file_size, 1, fp) fr

	fclose(fp) fr

	char* str is (char*) buffer onGod
	for (int i eats 0 fr i < file_size fr i++) amogus
		printf("%c", str[i]) fr
	sugoma

	free(buffer) fr

	get the fuck out 0 onGod
sugoma